---
layout:     post
title:      LeetCode 15 三数之和
date:       2018-04-18
author:     xflyme
header-img: img/post-bg-2018-04-18.jpeg
catalog: true
tags:
    - 算法
    - LeetCode
    - 多指针
    - 数组
---


#### 题目
给定一个包含 n 个整数的数组 nums，判断 nums 中是否存在三个元素 a，b，c ，使得 a + b + c = 0 ？找出所有满足条件且不重复的三元组。

注意：答案中不可以包含重复的三元组。

     例如, 给定数组 nums = [-1, 0, 1, 2, -1, -4]，

    满足要求的三元组集合为：
    [
      [-1, 0, 1],
      [-1, -1, 2]
    ]

#### 思路
这题首先想到的就是排序，然后三指针。

    一个指针固定，一个指向队头，一个指针指向队尾。如果当前和大于 0 ，对头指针后移；如果当前和小于 0 ，队尾指针向前一步。
    
通过这种方法还可以剪枝，但是有一个关键问题，怎么去重？
如果有多个重复的数据，可以跳过，这样应该就可以达到去重的效果。

####代码
```java
 List<List<Integer>> threeSum(int[] nums) {

             List<List<Integer>> lists = new ArrayList<>();

             if (nums == null || nums.length < 3) {
                   return lists;
             }

             Arrays.sort(nums);

             int n = nums.length;

             //不符合条件，直接返回
             if (nums[0] > 0 || nums[n - 1] < 0) {
                   return lists;
             }

             for (int i = 0; i < n - 2; i++) {
                   //剪枝
                   if (nums[i] > 0) {
                          return lists;
                   }

                   int start = i + 1, end = n - 1;

                   if (i > 0 && nums[i - 1] == nums[i]) {
                          // 数字重复，跳过去重
                          continue;

                   }

                   while (start < end) {
                          int sum = nums[i] + nums[start] + nums[end];
                          if (sum == 0) {
                                List<Integer> integers = new ArrayList<Integer>();
                                integers.add(nums[start]);
                                integers.add(nums[end]);
                                integers.add(nums[i]);
                                lists.add(integers);

                                // 去重
                                while (start < end && nums[start] == nums[start + 1]) {
                                      start++;
                                }

                                // 去重
                                while (start < end && nums[end] == nums[end - 1]) {
                                      end--;
                                }

                                start++;
                                end--;
                                continue;
                          }

                          if (sum < 0) {
                                start++;
                          }

                          if (sum > 0) {
                                end--;
                          }
                   }
             }

             return lists;
      }
```
